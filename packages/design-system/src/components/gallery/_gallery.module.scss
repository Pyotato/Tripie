@use "../../functions/" as *;
@use "../../mixins/" as *;
@use "sass:map";

$overlay-color: color(success, 50);

.gallery {
  display: grid;
  grid-template-rows: auto;
  gap: space("sm");
  max-width: 30rem;

  position: relative;

  img {
    position: relative !important;
  }

  @for $i from 1 through 4 {
    &.gallery-img-length-#{$i} {
      grid-template-columns: repeat(#{$i}, 1fr);
    }
  }

  &.gallery-img-length-5 {
    grid-template-columns: repeat(4, 1fr);

    .gallery-item {
      &:nth-child(1) {
        grid-column: span 2;
        grid-row: span 2;
      }

      &:nth-child(n + 2):nth-child(-n + 5) {
        grid-column: span 1;
        grid-row: span 1;
      }
    }

    .overlay {
      filter: brightness(40%);
      position: absolute;
    }
  }
}

.image-container {
  position: relative;
  display: inline-block;
  cursor: pointer;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

.display-leftover-img-count {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: $overlay-color;
  z-index: z("default");
  font-size: 24px;
  font-weight: bold;
}
